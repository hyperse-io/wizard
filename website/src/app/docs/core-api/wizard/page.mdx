---
title: wizard
description: Create a wizard instance
icon: StarsIcon
---

import { generateDefinition, TSDoc } from 'nextra/tsdoc';

## Create Wizard

createWizard is the main function to create a wizard instance.

```tsx
import { createWizard } from '@hyperse/wizard';

const wizard = createWizard(options: WizardOptions);
```

### WizardOptions

<TSDoc
  definition={generateDefinition({
    code: `
export { WizardOptions as default } from '@hyperse/wizard'`,
  })}
/>

### Properties

#### name

`string`

The name of the CLI tool

#### description

`string`

The description of the CLI tool, supports localization.

#### version

`string`

The version of the CLI tool, supports localization.

#### locale

`SupportedLocales`

The current locale of the wizard. Supported locales are `'en'` and `'zh'`.

#### i18n

`{ t: Translator }`

The i18n instance for internationalization. The `t` function is used to translate messages.

#### commandMap

`Map<CommandName, Command<CommandName>>`

The map of all registered commands with their internationalized descriptions and metadata.

#### commandChain

`Command<CommandName>[]`

The current command chain being executed, with internationalized descriptions and metadata.

#### globalFlags

`Flags`

The global flags configuration with internationalized descriptions and metadata.

### Public methods

#### setupLogger

`(loggerOptions: { noColor?: boolean; logLevel?: LogLevel }) => void`

Sets up the logger with custom options for color output and log level.

#### parse

`(optionsOrArgv?: string[] | ParseOptions) => void`

Parses command line arguments and executes the corresponding command. This is the main entry point for running the CLI.

#### register

`(builder: CommandBuilder) => Wizard`

Registers a command using a command builder.

`(name: string, options: CommandBuilderOptions & { handler?: CommandHandlerFunction }) => Wizard`

Registers a command by name and options.

#### use

`(plugin: Plugin) => Wizard`

Registers a plugin to extend the wizard's functionality.

#### interceptor

`(interceptor: GlobalInterceptorHandler) => Wizard`

Registers a global interceptor that runs before command execution.

#### flag

`(name: string, options: FlagOptions) => Wizard`

Sets global flags that are available to all commands.

#### errorHandler

`(handler: (err: any) => void) => Wizard`

Sets an error handler to catch and handle errors during execution.

### EventEmitter methods

Since Wizard extends EventEmitter, it also provides all the event emitter methods:

#### on

`(event: string, listener: EventListener) => Wizard`

Adds an event listener for the specified event.

#### once

`(event: string, listener: EventListener) => Wizard`

Adds a one-time event listener that will be removed after the first execution.

#### off

`(event: string, listener: EventListener) => Wizard`

Removes an event listener for the specified event.

#### removeAllListeners

`(event?: string) => Wizard`

Removes all listeners for a specific event, or all listeners if no event is specified.

#### emit

`(event: string, data: any) => boolean`

Emits an event with the specified data. Returns true if the event had listeners.

#### listenerCount

`(event: string) => number`

Returns the number of listeners for a specific event.

#### listeners

`(event: string) => EventListener[]`

Returns an array of listeners for a specific event.

#### eventNames

`() => string[]`

Returns an array of event names that have listeners.

#### setMaxListeners

`(n: number) => Wizard`

Sets the maximum number of listeners that can be added to a single event.

#### getMaxListeners

`() => number`

Returns the maximum number of listeners that can be added to a single event.
